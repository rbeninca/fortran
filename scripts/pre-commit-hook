#!/bin/bash
# Git Hook - Pre-commit
# Sincroniza automaticamente data/ ‚Üí docs/ quando h√° mudan√ßas em data/

# Verifica se houve mudan√ßas em data/
if git diff --cached --name-only | grep -q "^data/"; then
    echo ""
    echo "üîÑ Detectadas mudan√ßas em data/, sincronizando para docs/..."
    echo ""
    
    # Executa script de sincroniza√ß√£o
    if [ -f "scripts/sync-docs.sh" ]; then
        ./scripts/sync-docs.sh
        
        # Adiciona arquivos atualizados ao commit atual
        git add docs/
        
        echo ""
        echo "‚úÖ docs/ sincronizado e adicionado ao commit automaticamente"
        echo ""
    else
        echo "‚ö†Ô∏è  Script scripts/sync-docs.sh n√£o encontrado!"
        echo "   Execute manualmente: cp -r data/* docs/"
        echo ""
        exit 1
    fi
fi

# Continua com o commit
exit 0
