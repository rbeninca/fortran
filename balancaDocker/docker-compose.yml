services:
  balanca:
    build:
      context: ..                      # raiz do repo: balancaGFIG
      dockerfile: balancaDocker/Dockerfile
    container_name: balanca
    restart: unless-stopped
    devices:
      - "/dev/ttyUSB0:/dev/ttyUSB0"
    environment:
      SERIAL_PORT: "/dev/ttyUSB0"
      SERIAL_BAUD: "921600"
      WS_PORT: "81"
      HTTP_PORT: "80"
      GIT_REPO: "https://github.com/rbeninca/balancaGFIG"
      GIT_BRANCH: "balan√ßa_serial"
      PULL_INTERVAL: "120"
      WEB_DIRECTORY: "/app/data"
    ports:
      - "80:80"
      - "81:81"